<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./cookie.css">
</head>
<body>
    <div class="notifyCookie">
        <h4>dear esteemed user, our website uses cookies, kindly accept to enable cookies</h4>
        <div class="buttons">
            <button class="accept">Click here to accept!</button>
            <button class="reject">Reject cookies</button>
        </div> 
    </div>
    <div id="content">
    <nav class="header">
        <ul class="nav">
            <li class="nav_item">
                <a href="#" class="nav_link" id="nav_link1">Home</a>
            </li>
            <li class="nav_item">
                <a href="#" class="nav_link" id='nav_link2'>Contact us</a>
            </li>
            <li class="nav_item">
                <a href="#" class="nav_link" id="nav_link3">Read more</a>
            </li>
            <li class="nav_item">
                <a href="#" class="nav_link" id="nav_link4">About us</a>
            </li>
        </ul>
    </nav>
   
    <div class="greeting"> 
        <h2 class="welcome"></h2>
        <h4 class="profession"></h4>
    </div>
    <div class="content">
        Hardwork really pays, success is not free, you have to work for it.
    </div>  
    </div> 
</body>
<script>
document.body.onload= function(){
    var x = document.querySelector('.accept');
    var y = document.querySelector('.reject');
    var z = document.querySelector('.notifyCookie');
    var welcomeText = document.querySelector('.greeting')
    welcomeText.style.display= 'none';
    if(localStorage.confirm){
        checkCookie()
    }
    else if(sessionStorage.reject){
        z.classList.remove('show');
    }
    else{
        setTimeout(()=>z.classList.add("show"), 2000)
    }  
      // function to set a cookie
      function setCookie(cname, cvalue, exdays){
        var d = new Date()
        d.setTime(d.getTime()+ (exdays*24*60*60*1000));
        var expires = 'expires = ' + d.toUTCString()
        document.cookie = cname + "=" + cvalue + ";" + expires + ";path =/"
    }

    // function to get a cookie
    function getCookie(cname){
        var name = cname + '=';
        var decodedCookie = decodeURIComponent(document.cookie)
        var ca= decodedCookie.split(';');
        for(var i=0; i<ca.length; i++){
            var c = ca[i];
            while(c.charAt(0)==' '){
                c=c.substring(1);
            }
            if(c.indexOf(name)==0){
                return c.substring(name.length, c.length)
            }
        }
        return '';
    }
    // function to check a cookie
    function checkCookie(){
    var username = getCookie('username');
    var profession = getCookie('profession');
    if(username!='' && profession!=''){
        var name = document.querySelector('.welcome');
        name.innerHTML= `you are welcome to sheriff baba tech limited website Mr ${username.charAt(0).toUpperCase()}${username.substring(1)}!`;
        var work = document.querySelector('.profession');
        work.innerHTML= `A seasoned ${profession}`;
        var y = document.querySelector('.greeting');
        welcomeText.style.display= 'block';
        z.classList.remove('show')
    }
    else{
        username= prompt('Please enter your name:', '');
        profession = prompt('What is your profession', '')
        if((username !='' && username!=null ) && (profession!='' &&  profession!=null)){
            setCookie('username', username, 365);
            setCookie('profession', profession, 365);
            localStorage.confirm = true;
            z.classList.remove('show')
        }
    }
}
    x.onclick =function(){
        checkCookie();
    }
    y.onclick = function(){
        z.classList.remove('show');
        sessionStorage.reject = true;
    }
    // document.cookie = "username=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
    // document.cookie = "profession=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
    // localStorage.clear();
    // sessionStorage.clear()
}  
class Car {
  constructor(brand) {
    this.carname = brand;
  }
  present(x) {
    return x + ", I have a " + this.carname;
  }
}
class Bicycle extends Car{
    constructor(brand, year){
        super(brand)
        this.year = year;
        console.log(this)
        console.log(this.present2())
    }
    present2(){
        return  this.present('sheriff-baba') + ' the car was made in' + this.year
    }
}
const bicycle = new Bicycle('Ford', 2017)
var x = JSON.stringify(bicycle)
console.log(x)
var y = JSON.parse(x)
console.log(y)
console.log(y.year)

let nav = document.querySelector('.nav')
let nav_item = document.querySelectorAll('.nav_item')
let nav_link = document.querySelectorAll('.nav_link')
let each_nav = document.querySelector('.nav_item')

let random_number = (min, max)=>{
    return Math.floor(Math.random() * (max - min) ) + 1;
}

nav_link.forEach((e)=>{
    e.addEventListener('click', function(e){
     let random_color = `rgb(${random_number(0, 255)},${random_number(0, 255)},${random_number(0, 255)})`;
    console.log('nav_link')
    console.log(e.target);
    console.log(e.currentTarget)
    this.style.backgroundColor = random_color;    
    })
})

nav_item.forEach((e)=>{
    e.addEventListener('click', function(e){
    let random_color = `rgb(${random_number(0, 255)},${random_number(0, 255)},${random_number(0, 255)})`;
    console.log('nav_item')
    console.log(e.target);
    console.log(e.currentTarget)
    this.style.backgroundColor = random_color;  
    }, true)   
})
console.log(nav.children[1].children[0].firstChild.nodeValue)
nav.closest('#content').style.background = 'purple'
console.log(nav.childNodes)
console.log(each_nav.parentElement.children)

</script>
</html>